{"ast":null,"code":"//added\nimport { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { EditCampusView } from \"../views\";\nimport { editCampusThunk, fetchCampusThunk } from \"../../store/thunks\";\nclass EditCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      let editedStudent = {\n        firstname: this.state.firstname,\n        lastname: this.state.lastname,\n        email: this.state.email,\n        gpa: this.state.gpa,\n        campusId: this.state.campusId,\n        id: window.location.pathname.slice(-1)\n      };\n      await this.props.editStudent(editedStudent);\n      this.setState({\n        firstname: \"\",\n        lastname: \"\",\n        email: \"\",\n        gpa: 0,\n        campusId: null,\n        redirect: true,\n        redirectId: window.location.pathname.slice(-1)\n      });\n    };\n    this.state = {\n      firstname: \"\",\n      lastname: \"\",\n      email: \"\",\n      gpa: 0.0,\n      campusId: null,\n      redirect: false,\n      redirectId: null\n    };\n  }\n  componentDidMount() {\n    this.props.fetchStudent(window.location.pathname.slice(-1));\n    this.setState({\n      firstname: this.props.student.firstname,\n      lastname: this.props.student.lastname,\n      email: this.props.student.email,\n      gpa: this.props.student.gpa,\n      campusId: this.props.student.campusId,\n      redirect: false,\n      redirectId: null\n    });\n  }\n  componentWillUnmount() {\n    this.setState({\n      redirect: false,\n      redirectId: null\n    });\n  }\n}\n\n// map state to props\nconst mapState = state => {\n  return {\n    campus: state.campus\n  };\n};\nconst mapDispatch = dispatch => {\n  return {\n    editCampus: campus => dispatch(editCampusThunk(campus)),\n    fetchCampus: campus => dispatch(fetchCampusThunk(campus))\n  };\n};\nexport default connect(mapState, mapDispatch)(EditCampusContainer);","map":{"version":3,"names":["Component","connect","Redirect","EditCampusView","editCampusThunk","fetchCampusThunk","EditCampusContainer","constructor","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","editedStudent","firstname","state","lastname","email","gpa","campusId","id","window","location","pathname","slice","editStudent","redirect","redirectId","componentDidMount","fetchStudent","student","componentWillUnmount","mapState","campus","mapDispatch","dispatch","editCampus","fetchCampus"],"sources":["C:/Users/jhu73/Desktop/Online/Hunter20-23/23spring/webdev/projects/final-project/final-project-client/src/components/containers/EditCampusContainer.js"],"sourcesContent":["//added\r\nimport { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { EditCampusView } from \"../views\";\r\nimport { editCampusThunk, fetchCampusThunk } from \"../../store/thunks\";\r\n\r\nclass EditCampusContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      firstname: \"\",\r\n      lastname: \"\",\r\n      email: \"\",\r\n      gpa: 0.0,\r\n      campusId: null,\r\n      redirect: false,\r\n      redirectId: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchStudent(window.location.pathname.slice(-1));\r\n\r\n    this.setState({\r\n      firstname: this.props.student.firstname,\r\n      lastname: this.props.student.lastname,\r\n      email: this.props.student.email,\r\n      gpa: this.props.student.gpa,\r\n      campusId: this.props.student.campusId,\r\n      redirect: false,\r\n      redirectId: null,\r\n    });\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    let editedStudent = {\r\n      firstname: this.state.firstname,\r\n      lastname: this.state.lastname,\r\n      email: this.state.email,\r\n      gpa: this.state.gpa,\r\n      campusId: this.state.campusId,\r\n      id: window.location.pathname.slice(-1),\r\n    };\r\n\r\n    await this.props.editStudent(editedStudent);\r\n\r\n    this.setState({\r\n      firstname: \"\",\r\n      lastname: \"\",\r\n      email: \"\",\r\n      gpa: 0,\r\n      campusId: null,\r\n      redirect: true,\r\n      redirectId: window.location.pathname.slice(-1),\r\n    });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.setState({ redirect: false, redirectId: null });\r\n  }\r\n\r\n  }\r\n   \r\n\r\n// map state to props\r\nconst mapState = (state) => {\r\n  return {\r\n    campus: state.campus,\r\n  };\r\n};\r\n\r\nconst mapDispatch = (dispatch) => {\r\n  return {\r\n    editCampus: (campus) => dispatch(editCampusThunk(campus)),\r\n    fetchCampus: (campus) => dispatch(fetchCampusThunk(campus)),\r\n  };\r\n};\r\n\r\nexport default connect(mapState, mapDispatch)(EditCampusContainer);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}